<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>Chapter 5 Flask | Bootstrap and React for Web Development</title>
  <meta name="description" content="These are just some things." />
  <meta name="generator" content="bookdown 0.14 and GitBook 2.6.7" />

  <meta property="og:title" content="Chapter 5 Flask | Bootstrap and React for Web Development" />
  <meta property="og:type" content="book" />
  
  
  <meta property="og:description" content="These are just some things." />
  <meta name="github-repo" content="rstudio/bookdown-demo" />

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="Chapter 5 Flask | Bootstrap and React for Web Development" />
  
  <meta name="twitter:description" content="These are just some things." />
  

<meta name="author" content="L A Liggett" />


<meta name="date" content="2019-11-13" />

  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="sass.html"/>
<link rel="next" href="sql.html"/>
<script src="libs/jquery-2.2.3/jquery.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />











<style type="text/css">
a.sourceLine { display: inline-block; line-height: 1.25; }
a.sourceLine { pointer-events: none; color: inherit; text-decoration: inherit; }
a.sourceLine:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode { white-space: pre; position: relative; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
code.sourceCode { white-space: pre-wrap; }
a.sourceLine { text-indent: -1em; padding-left: 1em; }
}
pre.numberSource a.sourceLine
  { position: relative; left: -4em; }
pre.numberSource a.sourceLine::before
  { content: attr(data-line-number);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; pointer-events: all; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {  }
@media screen {
a.sourceLine::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>

<link rel="stylesheet" href="style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="./">On Matters Of Nature and Science</a></li>

<li class="divider"></li>
<li class="chapter" data-level="1" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i><b>1</b> Introduction</a></li>
<li class="chapter" data-level="2" data-path="html.html"><a href="html.html"><i class="fa fa-check"></i><b>2</b> HTML</a><ul>
<li class="chapter" data-level="2.1" data-path="html.html"><a href="html.html#html-properties"><i class="fa fa-check"></i><b>2.1</b> HTML Properties</a><ul>
<li class="chapter" data-level="2.1.1" data-path="html.html"><a href="html.html#forms"><i class="fa fa-check"></i><b>2.1.1</b> Forms</a></li>
</ul></li>
<li class="chapter" data-level="2.2" data-path="html.html"><a href="html.html#css"><i class="fa fa-check"></i><b>2.2</b> CSS</a><ul>
<li class="chapter" data-level="2.2.1" data-path="html.html"><a href="html.html#selectors"><i class="fa fa-check"></i><b>2.2.1</b> Selectors</a></li>
<li class="chapter" data-level="2.2.2" data-path="html.html"><a href="html.html#responsive-design"><i class="fa fa-check"></i><b>2.2.2</b> Responsive Design</a></li>
<li class="chapter" data-level="2.2.3" data-path="html.html"><a href="html.html#flexbox"><i class="fa fa-check"></i><b>2.2.3</b> Flexbox</a></li>
<li class="chapter" data-level="2.2.4" data-path="html.html"><a href="html.html#grid-styling"><i class="fa fa-check"></i><b>2.2.4</b> Grid Styling</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="3" data-path="bootstrap.html"><a href="bootstrap.html"><i class="fa fa-check"></i><b>3</b> Bootstrap</a><ul>
<li class="chapter" data-level="3.1" data-path="bootstrap.html"><a href="bootstrap.html#setup"><i class="fa fa-check"></i><b>3.1</b> Setup</a></li>
<li class="chapter" data-level="3.2" data-path="bootstrap.html"><a href="bootstrap.html#columns"><i class="fa fa-check"></i><b>3.2</b> Columns</a></li>
</ul></li>
<li class="chapter" data-level="4" data-path="sass.html"><a href="sass.html"><i class="fa fa-check"></i><b>4</b> Sass</a><ul>
<li class="chapter" data-level="4.1" data-path="sass.html"><a href="sass.html#intro"><i class="fa fa-check"></i><b>4.1</b> Intro</a></li>
<li class="chapter" data-level="4.2" data-path="sass.html"><a href="sass.html#nesting"><i class="fa fa-check"></i><b>4.2</b> Nesting</a></li>
<li class="chapter" data-level="4.3" data-path="sass.html"><a href="sass.html#inheritance"><i class="fa fa-check"></i><b>4.3</b> Inheritance</a></li>
</ul></li>
<li class="chapter" data-level="5" data-path="flask.html"><a href="flask.html"><i class="fa fa-check"></i><b>5</b> Flask</a><ul>
<li class="chapter" data-level="5.1" data-path="flask.html"><a href="flask.html#intro-1"><i class="fa fa-check"></i><b>5.1</b> Intro</a></li>
<li class="chapter" data-level="5.2" data-path="flask.html"><a href="flask.html#routes"><i class="fa fa-check"></i><b>5.2</b> Routes</a></li>
<li class="chapter" data-level="5.3" data-path="flask.html"><a href="flask.html#templates"><i class="fa fa-check"></i><b>5.3</b> Templates</a></li>
<li class="chapter" data-level="5.4" data-path="flask.html"><a href="flask.html#jinja"><i class="fa fa-check"></i><b>5.4</b> Jinja</a></li>
<li class="chapter" data-level="5.5" data-path="flask.html"><a href="flask.html#user-handling"><i class="fa fa-check"></i><b>5.5</b> User Handling</a></li>
</ul></li>
<li class="chapter" data-level="6" data-path="sql.html"><a href="sql.html"><i class="fa fa-check"></i><b>6</b> SQL</a><ul>
<li class="chapter" data-level="6.1" data-path="sql.html"><a href="sql.html#intro-2"><i class="fa fa-check"></i><b>6.1</b> Intro</a></li>
<li class="chapter" data-level="6.2" data-path="sql.html"><a href="sql.html#installation"><i class="fa fa-check"></i><b>6.2</b> Installation</a></li>
<li class="chapter" data-level="6.3" data-path="sql.html"><a href="sql.html#starting-local-database"><i class="fa fa-check"></i><b>6.3</b> Starting Local Database</a></li>
<li class="chapter" data-level="6.4" data-path="sql.html"><a href="sql.html#heroku"><i class="fa fa-check"></i><b>6.4</b> Heroku</a><ul>
<li class="chapter" data-level="6.4.1" data-path="sql.html"><a href="sql.html#heroku-dynos"><i class="fa fa-check"></i><b>6.4.1</b> Heroku Dynos</a></li>
<li class="chapter" data-level="6.4.2" data-path="sql.html"><a href="sql.html#heroku-databases"><i class="fa fa-check"></i><b>6.4.2</b> Heroku Databases</a></li>
</ul></li>
<li class="chapter" data-level="6.5" data-path="sql.html"><a href="sql.html#database-hosting-with-heroku"><i class="fa fa-check"></i><b>6.5</b> Database Hosting With Heroku</a></li>
<li class="chapter" data-level="6.6" data-path="sql.html"><a href="sql.html#creating-a-database"><i class="fa fa-check"></i><b>6.6</b> Creating a Database</a></li>
<li class="chapter" data-level="6.7" data-path="sql.html"><a href="sql.html#updating-data"><i class="fa fa-check"></i><b>6.7</b> Updating Data</a></li>
<li class="chapter" data-level="6.8" data-path="sql.html"><a href="sql.html#joinmerge"><i class="fa fa-check"></i><b>6.8</b> Join/Merge</a></li>
<li class="chapter" data-level="6.9" data-path="sql.html"><a href="sql.html#indexing"><i class="fa fa-check"></i><b>6.9</b> Indexing</a></li>
<li class="chapter" data-level="6.10" data-path="sql.html"><a href="sql.html#sql-injection"><i class="fa fa-check"></i><b>6.10</b> SQL Injection</a></li>
<li class="chapter" data-level="6.11" data-path="sql.html"><a href="sql.html#transactions-and-race-conditions"><i class="fa fa-check"></i><b>6.11</b> Transactions and Race Conditions</a></li>
<li class="chapter" data-level="6.12" data-path="sql.html"><a href="sql.html#sqlalchemy"><i class="fa fa-check"></i><b>6.12</b> SQLAlchemy</a></li>
<li class="chapter" data-level="6.13" data-path="sql.html"><a href="sql.html#object-relational-mapping"><i class="fa fa-check"></i><b>6.13</b> Object-Relational Mapping</a></li>
<li class="chapter" data-level="6.14" data-path="sql.html"><a href="sql.html#apis"><i class="fa fa-check"></i><b>6.14</b> APIs</a></li>
</ul></li>
<li class="chapter" data-level="7" data-path="javascript.html"><a href="javascript.html"><i class="fa fa-check"></i><b>7</b> Javascript</a><ul>
<li class="chapter" data-level="7.1" data-path="javascript.html"><a href="javascript.html#intro-3"><i class="fa fa-check"></i><b>7.1</b> Intro</a></li>
<li class="chapter" data-level="7.2" data-path="javascript.html"><a href="javascript.html#event-handling"><i class="fa fa-check"></i><b>7.2</b> Event Handling</a></li>
<li class="chapter" data-level="7.3" data-path="javascript.html"><a href="javascript.html#variables"><i class="fa fa-check"></i><b>7.3</b> Variables</a></li>
<li class="chapter" data-level="7.4" data-path="javascript.html"><a href="javascript.html#event-listeners"><i class="fa fa-check"></i><b>7.4</b> Event Listeners</a><ul>
<li class="chapter" data-level="7.4.1" data-path="javascript.html"><a href="javascript.html#arrow-functions"><i class="fa fa-check"></i><b>7.4.1</b> Arrow Functions</a></li>
</ul></li>
<li class="chapter" data-level="7.5" data-path="javascript.html"><a href="javascript.html#local-storage"><i class="fa fa-check"></i><b>7.5</b> Local Storage</a></li>
</ul></li>
<li class="chapter" data-level="8" data-path="hackernews.html"><a href="hackernews.html"><i class="fa fa-check"></i><b>8</b> Hackernews</a><ul>
<li class="chapter" data-level="8.1" data-path="hackernews.html"><a href="hackernews.html#setup-1"><i class="fa fa-check"></i><b>8.1</b> Setup</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="references.html"><a href="references.html"><i class="fa fa-check"></i>References</a></li>
<li class="divider"></li>
<li><a href="https://github.com/rstudio/bookdown" target="blank">Published with bookdown</a></li>

</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">Bootstrap and React for Web Development</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="flask" class="section level1">
<h1><span class="header-section-number">Chapter 5</span> Flask</h1>
<div id="intro-1" class="section level2">
<h2><span class="header-section-number">5.1</span> Intro</h2>
<p>There seems to be a nice full flask tutorial <a href="https://blog.miguelgrinberg.com/post/the-flask-mega-tutorial-part-i-hello-world">here</a> where a blog is created.</p>
<p>Installation can be done through anaconda.</p>
<div class="sourceCode" id="cb50"><pre class="sourceCode bash"><code class="sourceCode bash"><a class="sourceLine" id="cb50-1" data-line-number="1"><span class="ex">conda</span> install -c conda-forge flask</a></code></pre></div>
<p>Flask code is generally stored within a file called <code>application.py</code>. Below is a general framework of the flask code that resides in this file.<br />
Line 3 is creating a new flask web application.<br />
Flask applications are designed around routes. On line 5, what is happening is that the code is referring to navigation to the <code>/</code> or home directory. The two lines below this route give the code of what to do when a user navigates to that home directory.</p>
<div class="sourceCode" id="cb51"><pre class="sourceCode bash"><code class="sourceCode bash"><a class="sourceLine" id="cb51-1" data-line-number="1"><span class="ex">from</span> flask import Flask   </a>
<a class="sourceLine" id="cb51-2" data-line-number="2">                          </a>
<a class="sourceLine" id="cb51-3" data-line-number="3"><span class="ex">app</span> = Flask(__name__)     </a>
<a class="sourceLine" id="cb51-4" data-line-number="4">                          </a>
<a class="sourceLine" id="cb51-5" data-line-number="5"><span class="ex">@app.route</span>(<span class="st">&quot;/&quot;</span>)           </a>
<a class="sourceLine" id="cb51-6" data-line-number="6"><span class="ex">def</span> index()<span class="bu">:</span>              </a>
<a class="sourceLine" id="cb51-7" data-line-number="7">    <span class="bu">return</span> <span class="st">&quot;Hello, world!&quot;</span></a></code></pre></div>
<p>Flask then needs to be told how to import it, by setting the <code>FLASK_APP</code> environment variable. If the above code is put into a file called <code>application.py</code>, just export that filename. It may be useful if <code>application.py</code> is always going to be the main filename to just add this code to the bashrc.</p>
<div class="sourceCode" id="cb52"><pre class="sourceCode bash"><code class="sourceCode bash"><a class="sourceLine" id="cb52-1" data-line-number="1"><span class="bu">export</span> <span class="va">FLASK_APP=</span>application.py</a></code></pre></div>
<p>If flask is run in debug mode, an app will update anytime a change is made to the underlying code.</p>
<div class="sourceCode" id="cb53"><pre class="sourceCode bash"><code class="sourceCode bash"><a class="sourceLine" id="cb53-1" data-line-number="1"><span class="bu">export</span> <span class="va">FLASK_ENV=</span>development</a></code></pre></div>
<p>The web application can then be run by running a flask webserver.</p>
<div class="sourceCode" id="cb54"><pre class="sourceCode bash"><code class="sourceCode bash"><a class="sourceLine" id="cb54-1" data-line-number="1"><span class="ex">flask</span> run</a></code></pre></div>
</div>
<div id="routes" class="section level2">
<h2><span class="header-section-number">5.2</span> Routes</h2>
<p>Instead of just using the main route, new routes can be created that when navigated to can have different functionality. In the following example, the route can be accessed at this address: <code>http://127.0.0.1:5000/david</code></p>
<div class="sourceCode" id="cb55"><pre class="sourceCode bash"><code class="sourceCode bash"><a class="sourceLine" id="cb55-1" data-line-number="1"><span class="ex">@app.route</span>(<span class="st">&quot;/david&quot;</span>)</a>
<a class="sourceLine" id="cb55-2" data-line-number="2"><span class="ex">def</span> david()<span class="bu">:</span></a>
<a class="sourceLine" id="cb55-3" data-line-number="3">    <span class="bu">return</span> <span class="st">&quot;Hello, David&quot;</span></a></code></pre></div>
<p>The route can take the URL addess information dynamically and use it as a variable. In the following example, the text in the URL is being read in as a <code>string</code>, and the value is being assigned to the <code>name</code> variable.</p>
<div class="sourceCode" id="cb56"><pre class="sourceCode bash"><code class="sourceCode bash"><a class="sourceLine" id="cb56-1" data-line-number="1"><span class="ex">@app.route</span>(<span class="st">&quot;/&lt;string:name&gt;&quot;</span>)</a>
<a class="sourceLine" id="cb56-2" data-line-number="2"><span class="ex">def</span> hello(name)<span class="bu">:</span></a>
<a class="sourceLine" id="cb56-3" data-line-number="3">    <span class="ex">name</span> = name.capitalize()</a>
<a class="sourceLine" id="cb56-4" data-line-number="4">    <span class="bu">return</span> <span class="st">&quot;Hello, {}!&quot;</span>.format(name)</a></code></pre></div>
<p>HTML code can also be included in the python code and can be returned and interpreted as HTML. In the following example the text that is getting returned and displayed is being styled as header text on the webpage.</p>
<div class="sourceCode" id="cb57"><pre class="sourceCode bash"><code class="sourceCode bash"><a class="sourceLine" id="cb57-1" data-line-number="1"><span class="ex">@app.route</span>(<span class="st">&quot;/&lt;string:name&gt;&quot;</span>)</a>
<a class="sourceLine" id="cb57-2" data-line-number="2"><span class="ex">def</span> hello(name)<span class="bu">:</span></a>
<a class="sourceLine" id="cb57-3" data-line-number="3">    <span class="ex">name</span> = name.capitalize()</a>
<a class="sourceLine" id="cb57-4" data-line-number="4">    <span class="bu">return</span> <span class="st">&quot;&lt;h1&gt;Hello, {}!&lt;/h1&gt;&quot;</span>.format(name)</a></code></pre></div>
<p>Routes can be referred to by a link which can also pass variables.</p>
<div class="sourceCode" id="cb58"><pre class="sourceCode bash"><code class="sourceCode bash"><a class="sourceLine" id="cb58-1" data-line-number="1"><span class="op">&lt;</span><span class="ex">a</span> href=<span class="st">&#39;{{ url_for(&#39;</span>details<span class="st">&#39;, title=book.title, author=book.author) }}&#39;</span>, method=<span class="st">&#39;GET&#39;</span><span class="op">&gt;</span>Link<span class="op">&lt;</span>/a<span class="op">&gt;</span></a></code></pre></div>
<p>The variables that get passed can then be used in <code>application.py</code> and passed to another html file.</p>
<div class="sourceCode" id="cb59"><pre class="sourceCode bash"><code class="sourceCode bash"><a class="sourceLine" id="cb59-1" data-line-number="1"><span class="ex">@app.route</span>(<span class="st">&#39;/details/&lt;string:title&gt;/&lt;string:author&gt;&#39;</span>, methods=[<span class="st">&#39;GET&#39;</span>, <span class="st">&#39;POST&#39;</span>])</a>
<a class="sourceLine" id="cb59-2" data-line-number="2"><span class="ex">def</span> details(title, author)<span class="bu">:</span>                                                   </a>
<a class="sourceLine" id="cb59-3" data-line-number="3">    <span class="bu">return</span> render_template(<span class="st">&#39;details.html&#39;</span>, title=title, author=author)        </a></code></pre></div>
</div>
<div id="templates" class="section level2">
<h2><span class="header-section-number">5.3</span> Templates</h2>
<p>Instead of embedding HTML within values that get returned by python code, HTML files themselves can be served by the python code. Flask can look for HTML files and it will look in a subdirectory of the main directory called <code>templates</code>. So in the following example if there is an HTML file called <code>index.html</code> within a subdirectory called <code>templates</code>, that html file gets served up by the following code.</p>
<div class="sourceCode" id="cb60"><pre class="sourceCode bash"><code class="sourceCode bash"><a class="sourceLine" id="cb60-1" data-line-number="1"><span class="ex">@app.route</span>(<span class="st">&quot;/&quot;</span>)</a>
<a class="sourceLine" id="cb60-2" data-line-number="2"><span class="ex">def</span> index()<span class="bu">:</span></a>
<a class="sourceLine" id="cb60-3" data-line-number="3">    <span class="bu">return</span> render_template(<span class="st">&quot;index.html&quot;</span>)</a></code></pre></div>
<p>Variables can also be passed from python to the html files that exist within the <code>templates</code> directory in order to dynamically alter the HTML content.<br />
In the following code, the <code>headline</code> variable is defined in python and then getting passed to HTML, and it is common that the varible names are just kept the same, though in the return function the second <code>headline</code> refers to the python variable and the first to the html variable just as is python methods.</p>
<div class="sourceCode" id="cb61"><pre class="sourceCode bash"><code class="sourceCode bash"><a class="sourceLine" id="cb61-1" data-line-number="1"><span class="ex">@app.route</span>(<span class="st">&quot;/&quot;</span>)</a>
<a class="sourceLine" id="cb61-2" data-line-number="2"><span class="ex">def</span> index()<span class="bu">:</span></a>
<a class="sourceLine" id="cb61-3" data-line-number="3">    <span class="ex">headline</span> = <span class="st">&quot;Hello thar&quot;</span></a>
<a class="sourceLine" id="cb61-4" data-line-number="4">    <span class="bu">return</span> render_template(<span class="st">&quot;index.html&quot;</span>, headline=headline)</a></code></pre></div>
<p>Now this <code>headline</code> variable can be used in HTML like so. The language being used is Jinja code. This functionality can be helpful in using the very same HTML code but allow it to perform differently.</p>
<div class="sourceCode" id="cb62"><pre class="sourceCode bash"><code class="sourceCode bash"><a class="sourceLine" id="cb62-1" data-line-number="1"><span class="op">&lt;</span><span class="ex">body</span><span class="op">&gt;</span></a>
<a class="sourceLine" id="cb62-2" data-line-number="2">    <span class="op">&lt;</span><span class="ex">h1</span><span class="op">&gt;</span>{{ headline }}<span class="op">&lt;</span>/<span class="ex">h1</span><span class="op">&gt;</span></a>
<a class="sourceLine" id="cb62-3" data-line-number="3"><span class="op">&lt;</span>/<span class="ex">body</span><span class="op">&gt;</span></a></code></pre></div>
</div>
<div id="jinja" class="section level2">
<h2><span class="header-section-number">5.4</span> Jinja</h2>
<p>Jinja brings programming logic gates to HTML. The code must be put into an html file within the <code>templates</code> directory and used by flask as shown in the above templates section.</p>
<div class="sourceCode" id="cb63"><pre class="sourceCode bash"><code class="sourceCode bash"><a class="sourceLine" id="cb63-1" data-line-number="1"><span class="op">&lt;</span><span class="ex">body</span><span class="op">&gt;</span></a>
<a class="sourceLine" id="cb63-2" data-line-number="2">    {<span class="ex">%</span> if new_year %}</a>
<a class="sourceLine" id="cb63-3" data-line-number="3">        <span class="op">&lt;</span><span class="ex">h1</span><span class="op">&gt;</span>Happy New Year!<span class="op">&lt;</span>/h1<span class="op">&gt;</span></a>
<a class="sourceLine" id="cb63-4" data-line-number="4">    {<span class="ex">%</span> else %}</a>
<a class="sourceLine" id="cb63-5" data-line-number="5">        <span class="op">&lt;</span><span class="ex">h1</span><span class="op">&gt;</span>Go back to work<span class="op">&lt;</span>/h1<span class="op">&gt;</span></a>
<a class="sourceLine" id="cb63-6" data-line-number="6">    {<span class="ex">%</span> endif %}</a>
<a class="sourceLine" id="cb63-7" data-line-number="7"><span class="op">&lt;</span>/<span class="ex">body</span><span class="op">&gt;</span></a></code></pre></div>
<p>Here is an example of a simple counter.</p>
<div class="sourceCode" id="cb64"><pre class="sourceCode bash"><code class="sourceCode bash"><a class="sourceLine" id="cb64-1" data-line-number="1">{<span class="ex">%</span> for i in p %}</a>
<a class="sourceLine" id="cb64-2" data-line-number="2">    {<span class="kw">{</span> <span class="ex">loop.index</span> <span class="kw">}</span>}</a>
<a class="sourceLine" id="cb64-3" data-line-number="3">{<span class="ex">%</span> endfor %}</a></code></pre></div>
<p>For loops work pretty similar to python as well. In the following code <code>names</code> is a python list getting passed from <code>application.py</code>, and the list items are rendered as a <code>ul</code> in HTML.</p>
<div class="sourceCode" id="cb65"><pre class="sourceCode bash"><code class="sourceCode bash"><a class="sourceLine" id="cb65-1" data-line-number="1"><span class="op">&lt;</span><span class="ex">ul</span><span class="op">&gt;</span></a>
<a class="sourceLine" id="cb65-2" data-line-number="2">    {<span class="ex">%</span> for name in names %}</a>
<a class="sourceLine" id="cb65-3" data-line-number="3">        <span class="op">&lt;</span><span class="ex">li</span><span class="op">&gt;</span>{{ name }}<span class="op">&lt;</span>/<span class="ex">li</span><span class="op">&gt;</span></a>
<a class="sourceLine" id="cb65-4" data-line-number="4">    {<span class="ex">%</span> endfor %}</a>
<a class="sourceLine" id="cb65-5" data-line-number="5"><span class="op">&lt;</span>/<span class="ex">ul</span><span class="op">&gt;</span></a></code></pre></div>
<p>Routes can be referred to by the name of a method within them from HTML. If the following code exists within the <code>application.py</code> file:</p>
<div class="sourceCode" id="cb66"><pre class="sourceCode bash"><code class="sourceCode bash"><a class="sourceLine" id="cb66-1" data-line-number="1"><span class="ex">@app.route</span>(<span class="st">&quot;/more&quot;</span>)</a>
<a class="sourceLine" id="cb66-2" data-line-number="2"><span class="ex">def</span> more()<span class="bu">:</span></a>
<a class="sourceLine" id="cb66-3" data-line-number="3">    <span class="bu">return</span> render_template(<span class="st">&quot;more.html&quot;</span>)</a></code></pre></div>
<p>The above method <code>more()</code> just refers to another html file, and this html file can be used from html like so, where the jinja function <code>url_for</code> finds the route that contains the <code>more()</code> method, and then uses that URL as the link in the <code>href</code>.</p>
<div class="sourceCode" id="cb67"><pre class="sourceCode bash"><code class="sourceCode bash"><a class="sourceLine" id="cb67-1" data-line-number="1"><span class="op">&lt;</span><span class="ex">a</span> href=<span class="st">&quot;{{ url_for(&#39;more&#39;) }}&quot;</span><span class="op">&gt;</span>See more...<span class="op">&lt;</span>/a<span class="op">&gt;</span></a></code></pre></div>
</div>
<div id="user-handling" class="section level2">
<h2><span class="header-section-number">5.5</span> User Handling</h2>
<p><a href="http://exploreflask.com/en/latest/users.html#authentication">This</a> seems like a decent guide about user authentication and handling.</p>

</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="sass.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="sql.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/lunr.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"google": false,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"all": ["facebook", "google", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "night",
"family": "sans",
"size": 2
},
"edit": {
"link": "https://github.com/rstudio/bookdown-demo/edit/master/04-flask.Rmd",
"text": "Edit"
},
"history": {
"link": null,
"text": null
},
"download": ["bookdown-demo.pdf", "bookdown-demo.epub"],
"toc": {
"collapse": "section"
}
});
});
</script>

</body>

</html>
