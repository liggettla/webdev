<!DOCTYPE html>
<html >

<head>

  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <title>Chapter 6 SQL | Bootstrap and React for Web Development</title>
  <meta name="description" content="These are just some things.">
  <meta name="generator" content="bookdown  and GitBook 2.6.7">

  <meta property="og:title" content="Chapter 6 SQL | Bootstrap and React for Web Development" />
  <meta property="og:type" content="book" />
  
  
  <meta property="og:description" content="These are just some things." />
  <meta name="github-repo" content="rstudio/bookdown-demo" />

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="Chapter 6 SQL | Bootstrap and React for Web Development" />
  
  <meta name="twitter:description" content="These are just some things." />
  

<meta name="author" content="L A Liggett">


<meta name="date" content="2019-09-14">

  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black">
  
  
<link rel="prev" href="flask.html">
<link rel="next" href="javascript.html">
<script src="libs/jquery-2.2.3/jquery.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />









<style type="text/css">
div.sourceCode { overflow-x: auto; }
table.sourceCode, tr.sourceCode, td.lineNumbers, td.sourceCode {
  margin: 0; padding: 0; vertical-align: baseline; border: none; }
table.sourceCode { width: 100%; line-height: 100%; }
td.lineNumbers { text-align: right; padding-right: 4px; padding-left: 4px; color: #aaaaaa; border-right: 1px solid #aaaaaa; }
td.sourceCode { padding-left: 5px; }
code > span.kw { color: #007020; font-weight: bold; } /* Keyword */
code > span.dt { color: #902000; } /* DataType */
code > span.dv { color: #40a070; } /* DecVal */
code > span.bn { color: #40a070; } /* BaseN */
code > span.fl { color: #40a070; } /* Float */
code > span.ch { color: #4070a0; } /* Char */
code > span.st { color: #4070a0; } /* String */
code > span.co { color: #60a0b0; font-style: italic; } /* Comment */
code > span.ot { color: #007020; } /* Other */
code > span.al { color: #ff0000; font-weight: bold; } /* Alert */
code > span.fu { color: #06287e; } /* Function */
code > span.er { color: #ff0000; font-weight: bold; } /* Error */
code > span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
code > span.cn { color: #880000; } /* Constant */
code > span.sc { color: #4070a0; } /* SpecialChar */
code > span.vs { color: #4070a0; } /* VerbatimString */
code > span.ss { color: #bb6688; } /* SpecialString */
code > span.im { } /* Import */
code > span.va { color: #19177c; } /* Variable */
code > span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code > span.op { color: #666666; } /* Operator */
code > span.bu { } /* BuiltIn */
code > span.ex { } /* Extension */
code > span.pp { color: #bc7a00; } /* Preprocessor */
code > span.at { color: #7d9029; } /* Attribute */
code > span.do { color: #ba2121; font-style: italic; } /* Documentation */
code > span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code > span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code > span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
</style>

<link rel="stylesheet" href="style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="./">On Matters Of Nature and Science</a></li>

<li class="divider"></li>
<li class="chapter" data-level="1" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i><b>1</b> Introduction</a></li>
<li class="chapter" data-level="2" data-path="html.html"><a href="html.html"><i class="fa fa-check"></i><b>2</b> HTML</a><ul>
<li class="chapter" data-level="2.1" data-path="html.html"><a href="html.html#html-properties"><i class="fa fa-check"></i><b>2.1</b> HTML Properties</a><ul>
<li class="chapter" data-level="2.1.1" data-path="html.html"><a href="html.html#forms"><i class="fa fa-check"></i><b>2.1.1</b> Forms</a></li>
</ul></li>
<li class="chapter" data-level="2.2" data-path="html.html"><a href="html.html#css"><i class="fa fa-check"></i><b>2.2</b> CSS</a><ul>
<li class="chapter" data-level="2.2.1" data-path="html.html"><a href="html.html#selectors"><i class="fa fa-check"></i><b>2.2.1</b> Selectors</a></li>
<li class="chapter" data-level="2.2.2" data-path="html.html"><a href="html.html#responsive-design"><i class="fa fa-check"></i><b>2.2.2</b> Responsive Design</a></li>
<li class="chapter" data-level="2.2.3" data-path="html.html"><a href="html.html#flexbox"><i class="fa fa-check"></i><b>2.2.3</b> Flexbox</a></li>
<li class="chapter" data-level="2.2.4" data-path="html.html"><a href="html.html#grid-styling"><i class="fa fa-check"></i><b>2.2.4</b> Grid Styling</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="3" data-path="bootstrap.html"><a href="bootstrap.html"><i class="fa fa-check"></i><b>3</b> Bootstrap</a><ul>
<li class="chapter" data-level="3.1" data-path="bootstrap.html"><a href="bootstrap.html#setup"><i class="fa fa-check"></i><b>3.1</b> Setup</a></li>
<li class="chapter" data-level="3.2" data-path="bootstrap.html"><a href="bootstrap.html#columns"><i class="fa fa-check"></i><b>3.2</b> Columns</a></li>
</ul></li>
<li class="chapter" data-level="4" data-path="sass.html"><a href="sass.html"><i class="fa fa-check"></i><b>4</b> Sass</a><ul>
<li class="chapter" data-level="4.1" data-path="sass.html"><a href="sass.html#intro"><i class="fa fa-check"></i><b>4.1</b> Intro</a></li>
<li class="chapter" data-level="4.2" data-path="sass.html"><a href="sass.html#nesting"><i class="fa fa-check"></i><b>4.2</b> Nesting</a></li>
<li class="chapter" data-level="4.3" data-path="sass.html"><a href="sass.html#inheritance"><i class="fa fa-check"></i><b>4.3</b> Inheritance</a></li>
</ul></li>
<li class="chapter" data-level="5" data-path="flask.html"><a href="flask.html"><i class="fa fa-check"></i><b>5</b> Flask</a><ul>
<li class="chapter" data-level="5.1" data-path="flask.html"><a href="flask.html#intro-1"><i class="fa fa-check"></i><b>5.1</b> Intro</a></li>
<li class="chapter" data-level="5.2" data-path="flask.html"><a href="flask.html#routes"><i class="fa fa-check"></i><b>5.2</b> Routes</a></li>
<li class="chapter" data-level="5.3" data-path="flask.html"><a href="flask.html#templates"><i class="fa fa-check"></i><b>5.3</b> Templates</a></li>
<li class="chapter" data-level="5.4" data-path="flask.html"><a href="flask.html#jinja"><i class="fa fa-check"></i><b>5.4</b> Jinja</a></li>
<li class="chapter" data-level="5.5" data-path="flask.html"><a href="flask.html#user-handling"><i class="fa fa-check"></i><b>5.5</b> User Handling</a></li>
</ul></li>
<li class="chapter" data-level="6" data-path="sql.html"><a href="sql.html"><i class="fa fa-check"></i><b>6</b> SQL</a><ul>
<li class="chapter" data-level="6.1" data-path="sql.html"><a href="sql.html#intro-2"><i class="fa fa-check"></i><b>6.1</b> Intro</a></li>
<li class="chapter" data-level="6.2" data-path="sql.html"><a href="sql.html#installation"><i class="fa fa-check"></i><b>6.2</b> Installation</a></li>
<li class="chapter" data-level="6.3" data-path="sql.html"><a href="sql.html#starting-local-database"><i class="fa fa-check"></i><b>6.3</b> Starting Local Database</a></li>
<li class="chapter" data-level="6.4" data-path="sql.html"><a href="sql.html#heroku"><i class="fa fa-check"></i><b>6.4</b> Heroku</a><ul>
<li class="chapter" data-level="6.4.1" data-path="sql.html"><a href="sql.html#heroku-dynos"><i class="fa fa-check"></i><b>6.4.1</b> Heroku Dynos</a></li>
<li class="chapter" data-level="6.4.2" data-path="sql.html"><a href="sql.html#heroku-databases"><i class="fa fa-check"></i><b>6.4.2</b> Heroku Databases</a></li>
</ul></li>
<li class="chapter" data-level="6.5" data-path="sql.html"><a href="sql.html#database-hosting-with-heroku"><i class="fa fa-check"></i><b>6.5</b> Database Hosting With Heroku</a></li>
<li class="chapter" data-level="6.6" data-path="sql.html"><a href="sql.html#creating-a-database"><i class="fa fa-check"></i><b>6.6</b> Creating a Database</a></li>
<li class="chapter" data-level="6.7" data-path="sql.html"><a href="sql.html#updating-data"><i class="fa fa-check"></i><b>6.7</b> Updating Data</a></li>
<li class="chapter" data-level="6.8" data-path="sql.html"><a href="sql.html#joinmerge"><i class="fa fa-check"></i><b>6.8</b> Join/Merge</a></li>
<li class="chapter" data-level="6.9" data-path="sql.html"><a href="sql.html#indexing"><i class="fa fa-check"></i><b>6.9</b> Indexing</a></li>
<li class="chapter" data-level="6.10" data-path="sql.html"><a href="sql.html#sql-injection"><i class="fa fa-check"></i><b>6.10</b> SQL Injection</a></li>
<li class="chapter" data-level="6.11" data-path="sql.html"><a href="sql.html#transactions-and-race-conditions"><i class="fa fa-check"></i><b>6.11</b> Transactions and Race Conditions</a></li>
<li class="chapter" data-level="6.12" data-path="sql.html"><a href="sql.html#sqlalchemy"><i class="fa fa-check"></i><b>6.12</b> SQLAlchemy</a></li>
<li class="chapter" data-level="6.13" data-path="sql.html"><a href="sql.html#object-relational-mapping"><i class="fa fa-check"></i><b>6.13</b> Object-Relational Mapping</a></li>
<li class="chapter" data-level="6.14" data-path="sql.html"><a href="sql.html#apis"><i class="fa fa-check"></i><b>6.14</b> APIs</a></li>
</ul></li>
<li class="chapter" data-level="7" data-path="javascript.html"><a href="javascript.html"><i class="fa fa-check"></i><b>7</b> Javascript</a><ul>
<li class="chapter" data-level="7.1" data-path="javascript.html"><a href="javascript.html#intro-3"><i class="fa fa-check"></i><b>7.1</b> Intro</a></li>
<li class="chapter" data-level="7.2" data-path="javascript.html"><a href="javascript.html#event-handling"><i class="fa fa-check"></i><b>7.2</b> Event Handling</a></li>
</ul></li>
<li class="chapter" data-level="8" data-path="hackernews.html"><a href="hackernews.html"><i class="fa fa-check"></i><b>8</b> Hackernews</a><ul>
<li class="chapter" data-level="8.1" data-path="hackernews.html"><a href="hackernews.html#setup-1"><i class="fa fa-check"></i><b>8.1</b> Setup</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="references.html"><a href="references.html"><i class="fa fa-check"></i>References</a></li>
<li class="divider"></li>
<li><a href="https://github.com/rstudio/bookdown" target="blank">Published with bookdown</a></li>

</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">Bootstrap and React for Web Development</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="sql" class="section level1">
<h1><span class="header-section-number">Chapter 6</span> SQL</h1>
<div id="intro-2" class="section level2">
<h2><span class="header-section-number">6.1</span> Intro</h2>
<p>SQL stands for structured query language that is designed to facilitate accessing data that is structured into table form. PostgreSQL is a version of SQL that is used in these notes.</p>
</div>
<div id="installation" class="section level2">
<h2><span class="header-section-number">6.2</span> Installation</h2>
<p>The method I can easily get to work is by installing through <code>apt</code>.<br />
It seems also that for some reason the install only works if the version number is specified.</p>
<div class="sourceCode"><pre class="sourceCode bash"><code class="sourceCode bash"><span class="fu">sudo</span> apt-get install postgresql-9.6 postgresql-client libpq-dev</code></pre></div>
<p>conda install -c conda-forge psycopg2 flask-sqlalchemy flask-migrate</p>
<p>Both the default database user and default database are called postgres, so switch to that user and start <code>psql</code>.</p>
<div class="sourceCode"><pre class="sourceCode bash"><code class="sourceCode bash"><span class="fu">sudo</span> -u postgres psql</code></pre></div>
<p>Then start a server.</p>
<div class="sourceCode"><pre class="sourceCode bash"><code class="sourceCode bash"><span class="ex">psql</span></code></pre></div>
<p>I have not been able to get the installation working through a conda install but here is the reference to postgresql.</p>
<div class="sourceCode"><pre class="sourceCode bash"><code class="sourceCode bash"><span class="ex">conda</span> install -c conda-forge postgresql</code></pre></div>
<p>To quit <code>psql</code> run <code>\q</code>.</p>
</div>
<div id="starting-local-database" class="section level2">
<h2><span class="header-section-number">6.3</span> Starting Local Database</h2>
<p>First set a password for local use.</p>
<div class="sourceCode"><pre class="sourceCode bash"><code class="sourceCode bash"><span class="fu">sudo</span> -u postgres psql
<span class="va">postgres=</span># \<span class="ex">password</span>
<span class="ex">Enter</span> new password:
<span class="ex">Enter</span> it again:
<span class="va">postgres=</span># \<span class="ex">q</span></code></pre></div>
<p>Initially work with localhost to create a database.</p>
<div class="sourceCode"><pre class="sourceCode bash"><code class="sourceCode bash"><span class="ex">psql</span> -U postgres -W  -h localhost
<span class="ex">create</span> database airplanes<span class="kw">;</span>
\<span class="ex">q</span></code></pre></div>
<p>Export the location to the newly created database and connect or connect directly.</p>
<div class="sourceCode"><pre class="sourceCode bash"><code class="sourceCode bash"><span class="bu">export</span> <span class="va">DATABASE_URL=</span><span class="st">&quot;postgresql://localhost/airplanes&quot;</span>;</code></pre></div>
<p>or</p>
<div class="sourceCode"><pre class="sourceCode bash"><code class="sourceCode bash"><span class="ex">psql</span> -U postgres -W  -h localhost postgres://localhost/airplanes</code></pre></div>
</div>
<div id="heroku" class="section level2">
<h2><span class="header-section-number">6.4</span> Heroku</h2>
<p>Install Heroku.</p>
<div class="sourceCode"><pre class="sourceCode bash"><code class="sourceCode bash"><span class="fu">sudo</span> snap install --classic heroku</code></pre></div>
<p>Then running any command should prompt to login to Heroku but the <code>login</code> command is specific for this.</p>
<pre><code>heroku login</code></pre>
<p>A sample app from heroku can be cloned to test app deployment.</p>
<pre><code>git clone https://github.com/heroku/python-getting-started.git
cd python-getting-started</code></pre>
<p>From within the app directory, create the app on heroku. This will create a new app with a random name, but a name can instead be passed to manually set the app name.</p>
<pre><code>heroku create</code></pre>
<p>The app code can then be committed to the heroku server.</p>
<pre><code>git push heroku master</code></pre>
<p>Pushing the code will deploy the app, but an instance of the app must be then be run.</p>
<pre><code>heroku ps:scale web=1</code></pre>
<p>The app can now be visited on the web.</p>
<pre><code>heroku open</code></pre>
<p>Logs can be viewed of page requests here in a way that will constantly update with each new request.</p>
<pre><code>heroku logs --tail</code></pre>
<p>The <code>Procfile</code> is a file within the root directory of the application that declares the command that should be executed when the app is started. Typically it contains the following.</p>
<pre><code>web: gunicorn gettingstarted.wsgi --log-file -</code></pre>
<div id="heroku-dynos" class="section level3">
<h3><span class="header-section-number">6.4.1</span> Heroku Dynos</h3>
<p>Heroku has some <a href="&#39;https://devcenter.heroku.com/articles/getting-started-with-python#provision-a-database&#39;">introduction</a> to using postgresql with a deployed app. And some more extensive <a href="&#39;https://devcenter.heroku.com/articles/heroku-postgresql&#39;">information</a> as well. It also looks like CS50 has some <a href="&#39;https://cs50.readthedocs.io/heroku/&#39;">instructions</a> as well.</p>
<p>By default heroku apps are deployed to a single dyno which is like a container that runs the commands specified in the <code>Procfile</code>. Using a free account will allow a single dyno to be used that will sleep after a half an hour of inactivity. The number of dyno containers can be scaled up and down. If scaled to zero, no containers will run the app.</p>
<pre><code>heroku ps:scale web=0</code></pre>
<p>The number of free dyno hours is set to 550 per month and with a verified credit card on file will be set to 1000. The remaining time available for a dyno to be running for an app can be checked.</p>
<pre><code>heroku ps -a &lt;app-name&gt;</code></pre>
<p>To run the heroku test app locally first setup Django to use local assets.</p>
<pre><code>python manage.py collectstatic</code></pre>
<p>The app can then be run locally at <code>http://localhost:5000</code>.</p>
<pre><code>heroku local web</code></pre>
<p>Changes can be committed in a similar manner as is done with github.</p>
<pre><code>git add .
git commit -m &#39;message&#39;
git push heroku master</code></pre>
</div>
<div id="heroku-databases" class="section level3">
<h3><span class="header-section-number">6.4.2</span> Heroku Databases</h3>
<p>The current addons including databases available to an app can be viewed.</p>
<pre><code>heroku addons</code></pre>
<p>The <code>DATABASE_URL</code> can be displayed.</p>
<pre><code>heroku config</code></pre>
<p>More extensive information about the app can also be displayed, includeing the postgres version (PG Version)</p>
<pre><code>heroku pg</code></pre>
<p>As long as postgresql is installed locally, it is possible to connect to the remote database.</p>
<pre><code>heroku pg:psql</code></pre>
<p>It is also possible to connect with a database that has just been initiated, where the URI is listed in the <code>Config Vars</code> section of the Settings, under <code>DATABASE_URL</code>.</p>
<pre><code>psql &lt;URI&gt;
</code></pre>
</div>
</div>
<div id="database-hosting-with-heroku" class="section level2">
<h2><span class="header-section-number">6.5</span> Database Hosting With Heroku</h2>
<ol style="list-style-type: decimal">
<li>Navigate to <a href="https://www.heroku.com/" class="uri">https://www.heroku.com/</a>, and create an account if you don’t already have one.</li>
<li>On Heroku’s Dashboard, click “New” and choose “Create new app.”</li>
<li>Give your app a name, and click “Create app.”</li>
<li>On your app’s “Overview” page, click the “Configure Add-ons” button.</li>
<li>In the “Add-ons” section of the page, type in and select “Heroku Postgres.”</li>
<li>Choose the “Hobby Dev - Free” plan, which will give you access to a free PostgreSQL database that will support up to 10,000 rows of data. Click “Provision.”</li>
<li>Now, click the “Heroku Postgres :: Database” link.</li>
<li>You should now be on your database’s overview page. Click on “Settings”, and then “View Credentials.” This is the information you’ll need to log into your database. You can access the database via Adminer, filling in the server (the “Host” in the credentials list), your username (the “User”), your password, and the name of the database, all of which you can find on the Heroku credentials page.</li>
<li>Use the URI found in the Settings page of Credentials to link to the database using <code>export DATABASE_url=&quot;URI_URL&quot;</code></li>
</ol>
</div>
<div id="creating-a-database" class="section level2">
<h2><span class="header-section-number">6.6</span> Creating a Database</h2>
<p>Note that reserved words are all being capitalized below, but this is not required, but rather a stylistic choice.</p>
<p>To create a new database, first run <code>psql</code>.</p>
<div class="sourceCode"><pre class="sourceCode bash"><code class="sourceCode bash"><span class="ex">create</span> database airplanes<span class="kw">;</span></code></pre></div>
<p>Refer to that database.</p>
<div class="sourceCode"><pre class="sourceCode bash"><code class="sourceCode bash"><span class="bu">export</span> <span class="va">DATABASE_URL=</span><span class="st">&quot;postgresql://localhost/airplanes&quot;</span>;</code></pre></div>
<p>List current databases.</p>
<pre><code>\list</code></pre>
<p>Connect to a new database;</p>
<pre><code>\connect airplanes
or
\c airplanes</code></pre>
<p>Below is the general syntax to create a PostgreSQL database.<br />
The <code>id</code> is being used in a manner similar to an index that will just number each of the items.<br />
The next three lines are all different data, and are of types <code>VARCHAR</code> and <code>INTEGER</code>.<br />
The <code>NOT NULL</code> aspect will cause the server to reject the entry if some data is added to the database but that value is not included.</p>
<div class="sourceCode"><pre class="sourceCode bash"><code class="sourceCode bash"><span class="ex">CREATE</span> TABLE flights (           
    <span class="fu">id</span> SERIAL PRIMARY KEY,       
    <span class="ex">origin</span> VARCHAR NOT NULL,     
    <span class="ex">destination</span> VARCHAR NOT NULL,
    <span class="ex">duration</span> INTEGER NOT NULL    
);                               </code></pre></div>
<p>Display the currently created databases.</p>
<div class="sourceCode"><pre class="sourceCode bash"><code class="sourceCode bash">\<span class="ex">d</span></code></pre></div>
<p>Insert data into the flights database.</p>
<div class="sourceCode"><pre class="sourceCode bash"><code class="sourceCode bash"><span class="ex">INSERT</span> INTO flights (origin, destination, duration) <span class="ex">VALUES</span> (<span class="st">&#39;New York&#39;</span>, <span class="st">&#39;London&#39;</span>, 415);</code></pre></div>
<p>Select all the data from flights.</p>
<div class="sourceCode"><pre class="sourceCode bash"><code class="sourceCode bash"><span class="ex">SELECT</span> * FROM flights<span class="kw">;</span></code></pre></div>
<p>Select only the origin and destination columns from flights.</p>
<div class="sourceCode"><pre class="sourceCode bash"><code class="sourceCode bash"><span class="ex">SELECT</span> origin, destination FROM flights<span class="kw">;</span></code></pre></div>
<p>Select only the data in flights where the id is 3.</p>
<div class="sourceCode"><pre class="sourceCode bash"><code class="sourceCode bash"><span class="ex">SELECT</span> * FROM flights WHERE id = 3<span class="kw">;</span></code></pre></div>
<p>Select only the data in flights that have an origin of New York.</p>
<div class="sourceCode"><pre class="sourceCode bash"><code class="sourceCode bash"><span class="ex">SELECT</span> * FROM flights WHERE origin = <span class="st">&#39;New York&#39;</span><span class="kw">;</span></code></pre></div>
<p>Boolean logic data selection from flights.</p>
<div class="sourceCode"><pre class="sourceCode bash"><code class="sourceCode bash"><span class="ex">SELECT</span> * FROM flights WHERE destination = <span class="st">&#39;Paris&#39;</span> AND duration <span class="op">&gt;</span> 500<span class="kw">;</span></code></pre></div>
<p>Average a column of data.</p>
<div class="sourceCode"><pre class="sourceCode bash"><code class="sourceCode bash"><span class="ex">SELECT</span> AVG(duration) <span class="ex">FROM</span> flights<span class="kw">;</span></code></pre></div>
<p>Combine boolean logic with calculations performed on the data.</p>
<div class="sourceCode"><pre class="sourceCode bash"><code class="sourceCode bash"><span class="ex">SELECT</span> AVG(duration) <span class="ex">FROM</span> flights WHERE origin = <span class="st">&#39;New York&#39;</span><span class="kw">;</span></code></pre></div>
<p>Count columns of matching data.</p>
<div class="sourceCode"><pre class="sourceCode bash"><code class="sourceCode bash"><span class="ex">SELECT</span> COUNT(*) <span class="ex">FROM</span> flights<span class="kw">;</span></code></pre></div>
<p>Select matching data from a list.</p>
<div class="sourceCode"><pre class="sourceCode bash"><code class="sourceCode bash"><span class="ex">SELECT</span> * FROM flights WHERE origin IN (<span class="st">&#39;New York&#39;</span>, <span class="st">&#39;Lima&#39;</span>);</code></pre></div>
<p>Wildcards can be used to search for substrings.</p>
<div class="sourceCode"><pre class="sourceCode bash"><code class="sourceCode bash"><span class="ex">SELECT</span> * FROM flights WHERE origin LIKE <span class="st">&#39;%a%&#39;</span><span class="kw">;</span></code></pre></div>
<p>SQL uses <code>LIMIT</code> to function like <code>HEAD</code>.</p>
<div class="sourceCode"><pre class="sourceCode bash"><code class="sourceCode bash"><span class="ex">SELECT</span> * FROM flights LIMIT 2<span class="kw">;</span></code></pre></div>
<p>Order data in ascending order <code>asc</code> is ascending and <code>desc</code> is for descending.</p>
<div class="sourceCode"><pre class="sourceCode bash"><code class="sourceCode bash"><span class="kw">select</span> <span class="ex">*</span> from flights order by duration asc<span class="kw">;</span></code></pre></div>
<p>Data can be grouped together as in pandas.<br />
The following code selects the origin column, counts the number of identical origin entries and then adds this count to a new count column.</p>
<div class="sourceCode"><pre class="sourceCode bash"><code class="sourceCode bash"><span class="kw">select</span> <span class="ex">origin</span>, count(*) <span class="ex">from</span> flights group by origin<span class="kw">;</span></code></pre></div>
<p>Grouped data counts can be immedately filtered when searching.</p>
<div class="sourceCode"><pre class="sourceCode bash"><code class="sourceCode bash"><span class="ex">SELECT</span> origin, COUNT(*) <span class="ex">FROM</span> flights GROUP BY origin HAVING COUNT(*) <span class="op">&gt;</span> <span class="ex">1</span><span class="kw">;</span></code></pre></div>
</div>
<div id="updating-data" class="section level2">
<h2><span class="header-section-number">6.7</span> Updating Data</h2>
<p>This will change the duration of the flight from New York to London to 430.</p>
<div class="sourceCode"><pre class="sourceCode bash"><code class="sourceCode bash"><span class="ex">UPDATE</span> flights
<span class="ex">SET</span> duration = 430
<span class="ex">WHERE</span> origin = <span class="st">&#39;New York&#39;</span>
<span class="ex">AND</span> destination = <span class="st">&#39;London&#39;</span><span class="kw">;</span></code></pre></div>
<p>Delete a set of matching data from a database.</p>
<div class="sourceCode"><pre class="sourceCode bash"><code class="sourceCode bash"><span class="ex">DELETE</span> FROM flights
<span class="ex">WHERE</span> destination = <span class="st">&#39;Tokyo&#39;</span><span class="kw">;</span></code></pre></div>
</div>
<div id="joinmerge" class="section level2">
<h2><span class="header-section-number">6.8</span> Join/Merge</h2>
<p>Inner join is the default join and will only include data that is matched.</p>
<p>Foreign keys can be used to reference the data within another table so that data does not need to be continually repeated. For instance if a number of flights are all heading to New York, the city id could be set as number 1 and then flight destination ids could be just set to 1.<br />
As an example, the following table can be created that has passenger names, and in the <code>flight_id</code> column, the <code>flights</code> database is reference to get the actual flight locations.<br />
When one database references another as in the following code, the referenced column is typically the <code>PRIMARY KEY</code>, thought this can be modified if necessary.</p>
<div class="sourceCode"><pre class="sourceCode bash"><code class="sourceCode bash"><span class="ex">CREATE</span> TABLE passengers(
    <span class="fu">id</span> SERIAL PRIMARY KEY,
    <span class="ex">name</span> VARCHAR NOT NULL,
    <span class="ex">flight_id</span> INTEGER REFERENCES flights);</code></pre></div>
<p>It might be helpful to add some data to the above database for testing, so here is some data.</p>
<div class="sourceCode"><pre class="sourceCode bash"><code class="sourceCode bash"><span class="ex">INSERT</span> INTO passengers (name, flight_id) <span class="ex">VALUES</span> (<span class="st">&#39;Alice&#39;</span>, 1);  
<span class="ex">INSERT</span> INTO passengers (name, flight_id) <span class="ex">VALUES</span> (<span class="st">&#39;Bob&#39;</span>, 1);    
<span class="ex">INSERT</span> INTO passengers (name, flight_id) <span class="ex">VALUES</span> (<span class="st">&#39;Charlie&#39;</span>, 2);
<span class="ex">INSERT</span> INTO passengers (name, flight_id) <span class="ex">VALUES</span> (<span class="st">&#39;Dave&#39;</span>, 2);   
<span class="ex">INSERT</span> INTO passengers (name, flight_id) <span class="ex">VALUES</span> (<span class="st">&#39;Erin&#39;</span>, 4);   
<span class="ex">INSERT</span> INTO passengers (name, flight_id) <span class="ex">VALUES</span> (<span class="st">&#39;Frank&#39;</span>, 6);  
<span class="ex">INSERT</span> INTO passengers (name, flight_id) <span class="ex">VALUES</span> (<span class="st">&#39;Grace&#39;</span>, 6);  </code></pre></div>
<p>In order to reference the id data from the <code>flights</code> database for instance and match that up with the data found in the <code>passengers</code> database, the databases should can be joined on the id columns that correspond with each other, in an analogous manner as is performed in pandas.<br />
The following code selects the <code>origin</code> and <code>destination</code> columns from the <code>flights</code> database, and the <code>name</code> column from the <code>passengers</code> database, after the two databases have been joined on their respective flight id columns.</p>
<div class="sourceCode"><pre class="sourceCode bash"><code class="sourceCode bash"><span class="ex">SELECT</span> origin, destination, name FROM flights JOIN passengers ON passengers.flight_id = flights.id<span class="kw">;</span></code></pre></div>
<p>Data can be directly selected when merging two databases together like the following selection of on the data corresponding with the passenger named <code>Alice</code>.</p>
<div class="sourceCode"><pre class="sourceCode bash"><code class="sourceCode bash"><span class="ex">SELECT</span> origin, destination, name FROM flights JOIN passengers ON passengers.flight_id = flights.id WHERE name = <span class="st">&#39;Alice&#39;</span><span class="kw">;</span></code></pre></div>
<p>Left/right joining of databases can be performed that unlike inner join will include all of the data in the left or right database.</p>
<div class="sourceCode"><pre class="sourceCode bash"><code class="sourceCode bash"><span class="ex">SELECT</span> origin, destination, name FROM flights left JOIN passengers ON passengers.flight_id = flights.id WHERE name = <span class="st">&#39;Alice&#39;</span><span class="kw">;</span></code></pre></div>
</div>
<div id="indexing" class="section level2">
<h2><span class="header-section-number">6.9</span> Indexing</h2>
<p>Indexing allows a subset of one database (sort of like a pandas series) to be used to select data from a database (analogous to a DataFrame).<br />
In the following code, within the parentheses the <code>flight_id</code> column is being selected to create a “series”, and the ids are being grouped by <code>passengers</code>, and only those flights have more than one passenger are included within the “series”. This series of flight ids is then used to filter the original <code>flights</code> “DataFrame”.</p>
<div class="sourceCode"><pre class="sourceCode bash"><code class="sourceCode bash"><span class="kw">select</span> <span class="ex">*</span> from flights where id in (select flight_id from passengers group by flight_id having count(*) <span class="op">&gt;</span> <span class="ex">1</span>);</code></pre></div>
</div>
<div id="sql-injection" class="section level2">
<h2><span class="header-section-number">6.10</span> SQL Injection</h2>
<p>User input should be escaped or sanitized to prevent a user from inputting SQL code into input fields and have it be directly executed as SQL.<br />
As an example if a username and password field are presented to the user, and the input is checked against a SQL database, it might look something like the following.</p>
<div class="sourceCode"><pre class="sourceCode bash"><code class="sourceCode bash"><span class="ex">SELECT</span> * FROM users WHERE (username = <span class="st">&#39;Bill&#39;</span>) <span class="ex">AND</span> (password = <span class="st">&#39;12345&#39;</span>)</code></pre></div>
<p>The problem with the above code is that SQL code could theoretically be entered into the fields like the following.<br />
If <code>1', OR '1' = '1'</code> is entered into the password field, now the SQL query would looks something like the following, which evaluates as True and may allow somebody access to the database.</p>
<div class="sourceCode"><pre class="sourceCode bash"><code class="sourceCode bash"><span class="ex">SELECT</span> * FROM users WHERE (username = <span class="st">&#39;Bill&#39;</span>) <span class="ex">AND</span> (password = <span class="st">&#39;1&#39;</span>, OR <span class="st">&#39;1&#39;</span> = <span class="st">&#39;1&#39;</span>)</code></pre></div>
</div>
<div id="transactions-and-race-conditions" class="section level2">
<h2><span class="header-section-number">6.11</span> Transactions and Race Conditions</h2>
<p>This refers to a challenge if multiple requests simultaneously are made to the same data within a database and an attempt to modify the database occurs. The problem is that if the requests conflict in some manner the database can be improperly altered. One solution to this is transactions, where one user essentially checks-out the database and can modify it, and the second user can only modify the database after the first user as completed interacting with the database.</p>
</div>
<div id="sqlalchemy" class="section level2">
<h2><span class="header-section-number">6.12</span> SQLAlchemy</h2>
<p>SQLAlchemy is a python library that can be used to interact with SQL data.<br />
The library can be installed like this:</p>
<div class="sourceCode"><pre class="sourceCode bash"><code class="sourceCode bash"><span class="ex">conda</span> install -c conda-forge sqlalchemy sqlalchemy-utils</code></pre></div>
<p>SQLAlchemy can be used to interface with an SQL database.</p>
<pre><code>from sqlalchemy import create_engine
engine = create_engine(os.getenv(&quot;DATABASE_URL&quot;))</code></pre>
<p>Users should also be permitted to interact with the SQL database individually within sessions. To do this, a scoped session variable can be created and used to individually interact with the SQL database.</p>
<pre><code>from sqlalchemy.orm import scoped_session, sessionmaker
db = scoped_session(sessionmaker(bind=engine))

# this is an example then of interacting with the database
flights = db.execute(&quot;SELECT origin, destination, duration FROM flights&quot;).fetchall()
for flight in flights:
    print(f&quot;{flight.origin} to {flight.destination}, {flight.duration} minutes.&quot;)</code></pre>
<p>CSV files can be used to store the information for a database, and inserted into an SQL database.<br />
Assuming <code>flights.csv</code> looks something like this:</p>
<pre><code>Paris,New York,540    
Tokyo,Shanghai,185    
Seoul,Mexico City,825 
Mexico City,Lima,350  
Hong Kong,Shanghai,130</code></pre>
<p>The following code will then read <code>flights.csv</code> and add in the flights to the database.<br />
<code>:origin</code>, <code>:destination</code>, and <code>:duration</code> define placeholders within the database into which data will be inserted. This placeholder syntax also provides a layer of safety as it helps to prevent users from entering SQL code into a field and directly running SQL.</p>
<pre><code>def main():
    f = open(&quot;flights.csv&quot;)                                                                                        
    reader = csv.reader(f)                                                                                         
    for origin, destination, duration in reader:                                                                   
        db.execute(&quot;INSERT INTO flights (origin, destination, duration) VALUES (:origin, :destination, :duration)&quot;,
                    {&quot;origin&quot;: origin, &quot;destination&quot;: destination, &quot;duration&quot;: duration})                          
        print(f&quot;Added flight from {origin} to {destination} lasting {duration} minutes.&quot;)                          
    db.commit()                                                                                                    </code></pre>
<p>Here are some links that may be helpful in setting up an sql database and using it with SQLAlchemy. <a href="&#39;https://realpython.com/flask-by-example-part-2-postgres-sqlalchemy-and-alembic/&#39;">RealPython</a> <a href="&#39;https://stackoverflow.com/questions/1137060/where-does-postgresql-store-the-database&#39;">Location of Postgresql Database</a> <a href="&#39;https://stackoverflow.com/questions/26332319/finding-local-postgresql-database-url/51955545&#39;">Location of Postgresql Database</a> <a href="&#39;https://docs.cs50.net/web/2018/x/projects/1/project1.html&#39;">CS50 Project1 Help</a> <a href="&#39;https://www.reddit.com/r/cs50/comments/bxjafn/sqlalchemy_error_cs50w_lecture_3/&#39;">Reddit CS50 SQLAlchemy Help</a></p>
</div>
<div id="object-relational-mapping" class="section level2">
<h2><span class="header-section-number">6.13</span> Object-Relational Mapping</h2>
<p>Python classes can be used to control the function of a SQL database. Typically a Python class can be used to control the functionality in a single SQL database.</p>
<p>Below is an example of a Python class that controls some of the function of an SQL database.<br />
<code>__tablename__</code> refers to the <code>flights</code> sql database.<br />
<code>db.Model</code> defines some interactivity with SQLAlchemy and the SQL database.<br />
<code>primary_key=True</code> indicates that this column is used as the primary way to identify the data.<br />
<code>db.ForeignKey(&quot;flights.id&quot;)</code> references the <code>flights.id</code> column within the <code>Flight</code> class.</p>
<div class="sourceCode"><pre class="sourceCode bash"><code class="sourceCode bash"><span class="ex">from</span> flask_sqlalchemy import SQLAlchemy               
                                                      
<span class="ex">db</span> = SQLAlchemy()                                     
                                                      
<span class="ex">class</span> Flight(db.Model)<span class="bu">:</span>                               
    <span class="ex">__tablename__</span> = <span class="st">&quot;flights&quot;</span>                         
    <span class="fu">id</span> = db.Column(db.Integer, primary_key=True)      
    <span class="ex">origin</span> = db.Column(db.String, nullable=False)     
    <span class="ex">destination</span> = db.Column(db.String, nullable=False)
    <span class="ex">duration</span> = db.Column(db.Integer, nullable=False)  
    <span class="ex">passengers</span> = db.relationship(<span class="st">&quot;Passenger&quot;</span>, backref=<span class="st">&quot;flight&quot;</span>, lazy=True)

<span class="ex">class</span> Passenger(db.Model)<span class="bu">:</span>                                                        
    <span class="ex">__tablename__</span> = <span class="st">&quot;passengers&quot;</span>                                                  
    <span class="fu">id</span> = db.Column(db.Integer, primary_key=True)                                  
    <span class="ex">name</span> = db.Column(db.String, nullable=False)                                   
    <span class="ex">flight_id</span> = db.Column(db.Integer, db.ForeignKey(<span class="st">&quot;flights.id&quot;</span>), <span class="va">nullable=</span>False)</code></pre></div>
<p>Creating a class in the above manner will allow modification of an SQL database using just python with SQLAlchemy. This avoids the requirement of using SQL commands explicitly within the code.<br />
The following is an example of adding flight data to a database using the Flight class.</p>
<div class="sourceCode"><pre class="sourceCode bash"><code class="sourceCode bash"><span class="ex">db.init_app</span>(app)
<span class="ex">flight</span> = Flight(origin=origin, destination=destination, duration=duration)
<span class="ex">db.session.add</span>(flight)                                                    
<span class="ex">db.session.commit</span>()</code></pre></div>
<p>A SQL database can also be queried with python instead of SQL commands.<br />
The first command below is how a SQL database can be queried with SQL syntax and the second is with python using SQLAlchemy.</p>
<div class="sourceCode"><pre class="sourceCode bash"><code class="sourceCode bash"><span class="co"># using SQL</span>
<span class="ex">flights</span> = db.execute(<span class="st">&quot;SELECT origin, destination, duration FROM flights&quot;</span>)<span class="ex">.fetchall</span>()

<span class="co"># using SQLAlchemy</span>
<span class="ex">flights</span> = Flight.query.all()</code></pre></div>
<p>Filtering can also be done with similar code.</p>
<div class="sourceCode"><pre class="sourceCode bash"><code class="sourceCode bash"><span class="ex">flights</span> = Flight.query.filter_by(origin=<span class="st">&quot;Paris&quot;</span>)<span class="ex">.first</span>()</code></pre></div>
<p>Results can be counted.</p>
<div class="sourceCode"><pre class="sourceCode bash"><code class="sourceCode bash"><span class="ex">flights</span> = Flight.query.filter_by(origin=<span class="st">&quot;Paris&quot;</span>)<span class="ex">.count</span>()</code></pre></div>
<p>Data can be retrieved by its ID, where the below code gets the row with ID 28.</p>
<div class="sourceCode"><pre class="sourceCode bash"><code class="sourceCode bash"><span class="ex">Flight.query.get</span>(28)</code></pre></div>
<p>Data within a table can be modified.<br />
The following code gets the row with an ID of 6 then updates its duration to 280.</p>
<div class="sourceCode"><pre class="sourceCode bash"><code class="sourceCode bash"><span class="ex">flight</span> = Flight.query.get(6)
<span class="ex">flight.duration</span> = 280</code></pre></div>
<p>Data can be deleted from a table.</p>
<div class="sourceCode"><pre class="sourceCode bash"><code class="sourceCode bash"><span class="ex">flight</span> = Flight.query.get(6)
<span class="ex">db.session.delete</span>(flight)</code></pre></div>
<p>Data from a table can be retrieved and ordered.</p>
<div class="sourceCode"><pre class="sourceCode bash"><code class="sourceCode bash"><span class="ex">Flight.query.order_by</span>(Flight.origin.desc())<span class="ex">.all</span>()</code></pre></div>
<p>Table data can be retrieved when it does not match a boolean expression.</p>
<div class="sourceCode"><pre class="sourceCode bash"><code class="sourceCode bash"><span class="ex">Flight.query.filter</span>(
    <span class="ex">Flight.origin</span> != <span class="st">&quot;Paris&quot;</span>)<span class="ex">.all</span>()</code></pre></div>
<p>SQL substring querying can be performed with SQLAlchemy.</p>
<div class="sourceCode"><pre class="sourceCode bash"><code class="sourceCode bash"><span class="ex">Flight.query.filter</span>(
    <span class="ex">Flight.origin.like</span>(<span class="st">&quot;%a%&quot;</span>))<span class="ex">.all</span>()</code></pre></div>
<p>SQL search can be performed using a list of values.</p>
<div class="sourceCode"><pre class="sourceCode bash"><code class="sourceCode bash"><span class="ex">Flight.query.filter</span>(
    <span class="ex">Flight.origin.in_</span>(
        [<span class="st">&quot;Tokyo&quot;</span>, <span class="st">&quot;Paris&quot;</span>]))<span class="ex">.all</span>()</code></pre></div>
<p>Boolean expressions can be used.</p>
<div class="sourceCode"><pre class="sourceCode bash"><code class="sourceCode bash"><span class="ex">Flight.query.filter</span>(
    <span class="ex">or_</span>(Flight.origin == <span class="st">&quot;Paris&quot;</span>,
        <span class="ex">Flight.duration</span> <span class="op">&gt;</span> 500))<span class="ex">.all</span>()</code></pre></div>
<p>Tables can be joined together.</p>
<div class="sourceCode"><pre class="sourceCode bash"><code class="sourceCode bash"><span class="ex">db.session.query</span>(Flight, Passenger)<span class="ex">.filter</span>(
    <span class="ex">Flight.id</span> == Passenger.flight_id)<span class="ex">.all</span>()</code></pre></div>
</div>
<div id="apis" class="section level2">
<h2><span class="header-section-number">6.14</span> APIs</h2>
<p>API stands for application programming interface.<br />
JSON stands for Javascript object notation.</p>
<p>There are a number of different HTTP request types.<br />
GET: retrieve a resource<br />
POST: create a new resource<br />
PUT: replace a resource<br />
PATCH: update a resource<br />
DELETE: delete a resource</p>
<p>The python library <code>requests</code> enables requesting from python. Below is a get request which grabs the html code from google.com.</p>
<div class="sourceCode"><pre class="sourceCode bash"><code class="sourceCode bash"><span class="ex">import</span> requests
<span class="ex">res</span> = requests.get(<span class="st">&quot;https://www.google.com/&quot;</span>)
<span class="ex">print</span>(res.text)                              </code></pre></div>
<p>API calls should return status codes that classify the status of the request.<br />
Status codes are as follows:<br />
200: OK<br />
201: Created<br />
400: Bad Request<br />
403: Forbidden<br />
404: Not Found<br />
405: Method Not Allowed<br />
422 Unprocessable Entity</p>
<div class="sourceCode"><pre class="sourceCode bash"><code class="sourceCode bash"><span class="ex">res</span> = requests.get(<span class="st">&quot;https://api.fixer.io/latest?base=USD&amp;symbols=EUR&quot;</span>)
<span class="kw">if</span> <span class="ex">res.status_code</span> != 200:                                            
    <span class="ex">raise</span> Exception(<span class="st">&quot;ERROR: API request unsuccessful.&quot;</span>)               
    <span class="ex">data</span> = res.json()                                                     
    <span class="ex">print</span>(data)                                                           </code></pre></div>
<p>An API can be designed to return a JSON object that contains some of the information from the site.<br />
In flask the <code>application.py</code> can use the following code to accomplish this.</p>
<div class="sourceCode"><pre class="sourceCode bash"><code class="sourceCode bash"><span class="ex">from</span> flask import jsonify

<span class="ex">@app.route</span>(<span class="st">&quot;/api/flights/&lt;int:flight_id&gt;&quot;</span>)                 
<span class="ex">def</span> flight_api(flight_id)<span class="bu">:</span>                                 
    <span class="st">&quot;&quot;&quot;Return details about a single flight.&quot;&quot;&quot;</span>            
                                                           
    <span class="co"># Make sure flight exists.                             </span>
    <span class="ex">flight</span> = Flight.query.get(flight_id)                   
    <span class="kw">if</span> <span class="ex">flight</span> is None:                                     
        <span class="bu">return</span> jsonify({<span class="st">&quot;error&quot;</span>: <span class="st">&quot;Invalid flight_id&quot;</span>}), <span class="ex">422</span>
                                                           
    <span class="co"># Get all passengers.                                  </span>
    <span class="ex">passengers</span> = flight.passengers                         
    <span class="ex">names</span> = []                                             
    <span class="kw">for</span> <span class="ex">passenger</span> in passengers:                           
        <span class="ex">names.append</span>(passenger.name)                       
    <span class="bu">return</span> jsonify({                                       
            <span class="st">&quot;origin&quot;</span>: <span class="ex">flight.origin</span>,                       
            <span class="st">&quot;destination&quot;</span>: <span class="ex">flight.destination</span>,             
            <span class="st">&quot;duration&quot;</span>: <span class="ex">flight.duration</span>,                   
            <span class="st">&quot;passengers&quot;</span>: <span class="ex">names</span>                            
        })                                                 </code></pre></div>

</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="flask.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="javascript.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/lunr.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"google": false,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"all": ["facebook", "google", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "night",
"family": "sans",
"size": 2
},
"edit": {
"link": "https://github.com/rstudio/bookdown-demo/edit/master/05-sql.Rmd",
"text": "Edit"
},
"history": {
"link": null,
"text": null
},
"download": ["bookdown-demo.pdf", "bookdown-demo.epub"],
"toc": {
"collapse": "section"
}
});
});
</script>

</body>

</html>
